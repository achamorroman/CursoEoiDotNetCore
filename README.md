# Curso EOI: C#, OOP, WebAPI y DotNetCore
Introducción al lenguaje C# y .NET Core por Diego Ponce de León para la EOI

![logos](https://raw.githubusercontent.com/achamorroman/CursoEoiDotNetCore/master/Assets/logos.png)

> Archivos y documentación del curso en https://github.com/achamorroman/CursoEoiDotNetCore


## Herramientas utilizadas

- [Dotnet CLI](https://docs.microsoft.com/es-es/dotnet/core/tools/?tabs=netcore2x)
- [Visual Studio Code](https://code.visualstudio.com/)
- [Visual Studio Community edition](https://www.visualstudio.com/vs/community/)
- [Nuget](https://www.nuget.org/)
- [Git por línea de comandos](https://git-scm.com/download/win)
- [Git desde Visual Studio Code](https://code.visualstudio.com/docs/editor/versioncontrol)
- [Git desde Visual Studio](https://docs.microsoft.com/es-es/vsts/git/gitquickstart?tabs=visual-studio)
- [Github](https://github.com/)
- [GitKraken](https://www.gitkraken.com/)
- [Postman](https://www.getpostman.com/)

## Conceptos aprendidos durante el desarrollo

### C#

- [Value types](https://docs.microsoft.com/es-es/dotnet/csharp/language-reference/keywords/value-types)
- [Declaración y utilización de variables](https://docs.microsoft.com/es-es/dotnet/csharp/tour-of-csharp/types-and-variables)
- Comandos de selección ([if, else if, else](https://docs.microsoft.com/es-es/dotnet/csharp/language-reference/keywords/if-else), [switch](https://docs.microsoft.com/es-es/dotnet/csharp/language-reference/keywords/switch))
- [Operadores comunes](https://docs.microsoft.com/es-es/dotnet/csharp/language-reference/operators/)
- [Operador ternario](https://docs.microsoft.com/es-es/dotnet/csharp/language-reference/operators/conditional-operator)
- Comandos de iteración ([while](https://docs.microsoft.com/es-es/dotnet/csharp/language-reference/keywords/while), [do while](https://docs.microsoft.com/es-es/dotnet/csharp/language-reference/keywords/do), [for](https://docs.microsoft.com/es-es/dotnet/csharp/language-reference/keywords/for), [foreach](https://docs.microsoft.com/es-es/dotnet/csharp/language-reference/keywords/foreach-in))
- Comandos de salto ([break](https://docs.microsoft.com/es-es/dotnet/csharp/language-reference/keywords/break), [continue](https://docs.microsoft.com/es-es/dotnet/csharp/language-reference/keywords/continue))
- [Declaración y utilización de propiedades de clase](https://docs.microsoft.com/es-es/dotnet/csharp/programming-guide/classes-and-structs/properties)
- [Métodos de clase](https://docs.microsoft.com/es-es/dotnet/csharp/programming-guide/classes-and-structs/methods)
- [Parámetros de método](https://docs.microsoft.com/es-es/dotnet/csharp/programming-guide/classes-and-structs/passing-parameters)
- [Arrays](https://docs.microsoft.com/es-es/dotnet/csharp/programming-guide/arrays/)
- [Colecciones](https://msdn.microsoft.com/es-es/library/0ytkdh4s(v=vs.110).aspx)
- [LINQ](https://docs.microsoft.com/es-es/dotnet/csharp/programming-guide/concepts/linq/getting-started-with-linq) + [Lambda](https://docs.microsoft.com/es-es/dotnet/csharp/programming-guide/statements-expressions-operators/lambda-expressions)
- [Clases y objetos](https://support.microsoft.com/es-es/help/307368/how-to-create-classes-and-objects-in-visual-c)
- [Herencia](https://docs.microsoft.com/es-es/dotnet/csharp/programming-guide/classes-and-structs/inheritance)
- [Polimorfismo](https://docs.microsoft.com/es-es/dotnet/csharp/programming-guide/classes-and-structs/polymorphism)
- [Encapsulación](https://msdn.microsoft.com/es-es/library/a5adyhe9.aspx)
- [Miembros estáticos](https://docs.microsoft.com/es-es/dotnet/csharp/programming-guide/classes-and-structs/static-classes-and-static-class-members)
- [Programación asíncrona con async, await, Task](https://docs.microsoft.com/es-es/dotnet/csharp/async)
- [Lanzamiento y manejo de excepciones](https://docs.microsoft.com/es-es/dotnet/csharp/programming-guide/exceptions/)
- [Breve historia de C#](https://docs.microsoft.com/es-es/dotnet/csharp/whats-new/csharp-version-history)


### .NET Core

- [Introducción a .NET Framework](https://msdn.microsoft.com/es-es/library/hh425099%28v=vs.110%29.aspx?f=255&MSPPError=-2147217396)
- [Introducción a .NET Core](https://docs.microsoft.com/es-es/dotnet/core/index)
- [Los lenguajes de programación disponibles en .NET Core](https://www.microsoft.com/net/learn/languages)
- [Diferencias entre .NET Framework y .NET Core](https://docs.microsoft.com/es-es/dotnet/standard/choosing-core-framework-server)
- [NET Standard](https://blogs.msdn.microsoft.com/dotnet/2016/09/26/introducing-net-standard/)
- [Instalación entorno de trabajo para .NET Core (SDK)](https://www.microsoft.com/net/learn/get-started/windows)
- [Crear proyectos de consola](https://docs.microsoft.com/es-es/dotnet/core/tutorials/using-with-xplat-cli), [librería NET Standard](https://docs.microsoft.com/es-es/dotnet/core/tutorials/library-with-visual-studio) y [Web API](https://docs.microsoft.com/es-es/aspnet/core/tutorials/first-web-api) con .NET Core desde línea de comandos (CLI) y desde Visual Studio
- [Instalación, configuración y uso de Visual Studio Code para editar proyectos C#](https://docs.microsoft.com/es-es/dotnet/core/tutorials/with-visual-studio-code)
- [Instalación, configuración y uso de Visual Studio Community para editar proyectos C#](https://docs.microsoft.com/es-es/dotnet/core/tutorials/with-visual-studio)
- [Crear dependencias entre proyectos dentro de una misma solución](https://msdn.microsoft.com/es-es/library/f3st0d45.aspx)
- [Añadir paquetes nuget a un proyecto](https://docs.microsoft.com/es-es/nuget/quickstart/use-a-package)
- [Utilización de librerías de terceros a través de nuget](https://docs.microsoft.com/es-es/nuget/quickstart/use-a-package)
- [Depurar código C# en Visual Studio Code](https://docs.microsoft.com/es-es/dotnet/core/tutorials/with-visual-studio-code)
- [Depurar código C# en Visual Studio Community](https://docs.microsoft.com/es-es/dotnet/core/tutorials/debugging-with-visual-studio?tabs=csharp)
- [Interacción de usuario (entrada y salida de datos) en un proyecto de Consola](https://docs.microsoft.com/es-es/dotnet/csharp/tutorials/console-teleprompter)

### Git

- [Comandos básicos para flujo de trabajo con Git](http://rogerdudler.github.io/git-guide/index.es.html)
- [Operaciones básicas de Git desde Visual Studio](https://blogs.msdn.microsoft.com/esmsdn/2016/03/04/utilizando-git-en-visual-studio/)
- [Crear y trabajar con un repositorio Git en GitHub](https://desarrolloweb.com/articulos/crear-repositorio-git-codigo.html)

### REST y Web API

- [Introducción a REST](https://dosideas.com/noticias/java/314-introduccion-a-los-servicios-web-restful)
- [Métodos básicos REST (get, post, put, delete)](http://asiermarques.com/2013/conceptos-sobre-apis-rest/)
- [Probar una API REST con Postman](https://www.getpostman.com/docs/)
- [Consumir una API REST desde C# con `HttpClient`](https://docs.microsoft.com/es-es/aspnet/web-api/overview/advanced/calling-a-web-api-from-a-net-client)
- [Crear una API REST con Asp.NET Core y Visual Studio](https://docs.microsoft.com/es-es/aspnet/core/tutorials/first-web-api)
- [Usar respuestas de Web API](http://hamidmosalla.com/2017/03/29/asp-net-core-action-results-explained/) y sus [códigos de error](https://apigee.com/about/blog/technology/restful-api-design-what-about-errors)
- [Crear un modelo de datos relacional](http://www.learnentityframeworkcore.com/relationships)
- [Usar inyección de dependencias para el uso de servicios en controladores Web API](https://docs.microsoft.com/es-es/aspnet/core/fundamentals/dependency-injection)
- [Introducción a ORM (Object Relational Mapper)](https://es.wikipedia.org/wiki/Mapeo_objeto-relacional)
- [Introducción al ORM Entity Framework](https://docs.microsoft.com/en-us/ef/core/)
- [Usar base de datos en memoria](https://stormpath.com/blog/tutorial-entity-framework-core-in-memory-database-asp-net-core)
- [Consultas a la base de datos de forma síncrona con Entity Framework y LINQ](https://docs.microsoft.com/en-us/ef/core/querying/basic)
- [Consultas a la base de datos de forma asíncrona con Entity Framework y LINQ](https://docs.microsoft.com/en-us/ef/core/querying/async)


# Otros enlaces de interés

- [Microsoft Virtual Academy: Curso ASP.NET Core (12 horas, en inglés)](https://mva.microsoft.com/learning-path/aspnet-core-6)
- [Migraciones del modelo de datos](https://docs.microsoft.com/en-us/aspnet/core/data/ef-mvc/migrations)
- [Guía de programación C#](https://docs.microsoft.com/es-es/dotnet/csharp/programming-guide/index)
- [Pequeño libro de Asp.NET Core (en inglés)](https://www.gitbook.com/book/nbarbettini/little-asp-net-core-book/details)
- [Proveedores de base de datos para Entity Framework](https://docs.microsoft.com/en-us/ef/core/providers/)
- [Arquitectura de aplicaciones con .NET](https://www.microsoft.com/net/learn/architecture)
- [Desplegar aplicaciones .NET Core en Azure](https://docs.microsoft.com/es-es/aspnet/core/tutorials/publish-to-azure-webapp-using-vs)
- [Introducción a ASP.NET Core MVC y Visual Studio](https://docs.microsoft.com/es-es/aspnet/core/tutorials/first-mvc-app/start-mvc?tabs=aspnetcore2x)
- [Autenticación / autorización en ASP.NET Core](https://docs.microsoft.com/es-es/aspnet/core/security/authentication/identity?tabs=visual-studio%2Caspnetcore2x)


# Ejercicios y código

Todo el código se encuentra en distintos proyectos pero dentro de una misma solución de Visual Studio.
Para usar el código solo hace falta clonar este repositorio:

    git clone https://github.com/achamorroman/CursoEoiDotNetCore.git

y luego hacer doble click en `CursoLeonEoiDotNetCore.sln` (con Visual Studio instalado).

Para lanzar proyectos podeís hacerlo de dos maneras:

1. Click derecho en el proyecto > Establecer proyecto por defecto y luego darle al play (botón verde)
2. Click derech en el proyecto > Depurar > Crear nueva instancia

![Solution debug](https://raw.githubusercontent.com/xleon/CursoLeonEoiDotNetCore/master/Assets/Solution.png)

## Fight Game

Mini juego de peleas por turnos desarrollado durante las clases. Se trata de una aplicación de consola que descarga lista de personajes desde la API REST de StarWars. 
Cada vez que se teclea la función "Luchar", se eligen dos contrincantes aleatoriamente. El daño que ocasionan o reciben también es aleatorio. Todos van perdiedo poder y vidas. 
Cuando se agotan sus vidas quedan fuera de juego. Así sucesivamente hasta que queda un único superviviente o ganador.
Tiene otra función "Estatus" con la cuál podemos ver una tabla de texto de los jugadores y el detalle de cada uno.

La lógica del juego es muy simplista y esta aplicación ha servido básicamente para tocar varios puntos importantes del lenguaje C#, al mismo tiempo que hemos aprendido a manejar entrada y salida de datos en aplicaciones de consola.

![Fight Game 1](https://raw.githubusercontent.com/xleon/CursoLeonEoiDotNetCore/master/Assets/FightGame1.png)
![Fight Game 2](https://raw.githubusercontent.com/xleon/CursoLeonEoiDotNetCore/master/Assets/FightGame2.png)

## TO DO web API (Lista de tareas)

Se trata de una API REST muy simple, desarrollada en Visual Studio, con dos modelos de datos (lista de tareas y tarea) que están relacionados entre sí. 
Hemos hecho un recorrido por los métodos REST más relevantes para entender el concepto CRUD (Create Retrieve Update Delete). Para ello hemos utilizado un servicio que se utiliza en el controlador mediante inyección de dependencias.
En dichos métodos se controlan errores y que los parámetros recibidos en la llamada sean correctos. También se consulta una base de datos con LINQ 
y finalmente se devuelven las respuestas correspondientes y típicas de REST, con su código de estado y su cuerpo en formato json. Toda la API web ha sido probada con Postman.

![Postman 1](https://raw.githubusercontent.com/xleon/CursoLeonEoiDotNetCore/master/Assets/Postman1.png)
![Postman 2](https://raw.githubusercontent.com/xleon/CursoLeonEoiDotNetCore/master/Assets/Postman2.png)

Hay un archivo en el proyecto que se llama [Lista de tareas.postman_collection.json](https://raw.githubusercontent.com/xleon/CursoLeonEoiDotNetCore/master/Lista%20de%20tareas.postman_collection.json) 
que podeís importar directamente desde Postman dándole al botón "Import" en la parte superior. Una vez hecho eso, todas las llamadas a la API estarán disponibles para probar.




